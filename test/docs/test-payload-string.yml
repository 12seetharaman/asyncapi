asyncapi: "1.0.0"
info:
  title: Wolksense MQTT API
  version: "1.0.0"
host: wolksense.com
schemes:
  - mqtts

topics:
  sensors/{serialNumber}:
    publish:
      $ref: "#/components/messages/sensorReading"

components:
  messages:
    sensorReading:
      description: >
        All reading types are formatted as:

        `readingType = Type ":" Value`
        Where Type and Value are defined as:
        ```
          Digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
          Type = "T" | "P" | "H" | "LT" | "STP" | "BPM" | "KCAL" | "ACL" | "MAG" | "GYR" | "GEN"
          Value = ("+" | "-") {Digit}
        ```
      payload:
        type: string
        pattern: '\b(T|P|H|LT|STP|BPM|KCAL|ACL|MAG|GYR|GEN)\b\:[+|-]{1}[0-9]+'